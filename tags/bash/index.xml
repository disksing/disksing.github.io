<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Bash on 硬盘在歌唱</title><link>http://disksing.com/tags/bash/</link><description>Recent content in Bash on 硬盘在歌唱</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sat, 24 Oct 2020 00:00:00 +0000</lastBuildDate><atom:link href="http://disksing.com/tags/bash/index.xml" rel="self" type="application/rss+xml"/><item><title>TiDB1024谜题解题报告</title><link>http://disksing.com/tidb-puzzle/</link><pubDate>Sat, 24 Oct 2020 00:00:00 +0000</pubDate><guid>http://disksing.com/tidb-puzzle/</guid><description>今天（10月24日）被大家称为程序员节，PingCAP也凑热闹发布了一个谜题。其实是很简单，不过借助这题，我也是学习了一些 linux 命令的使用方法，还是很有意义的。不想关注公众号的话，题目也能在asktug直接看到。
首先谜面看形式像是摩尔斯电码，但肯定不是，因为摩尔斯电码不是定长的，但是这里每组长度都是8，大概率是ASCII。
这里-和.想必是0和1（所以提示的莱布尼茨是二进制的意思？），又因为ASCII第一位总是0，所以我们把-换成0，.换成1，再按ASCII转成拉丁字母。
先用 tr 做简单的字符替换，同时把空格换成空行方便后续处理。
cat CODE | tr &amp;#39;-&amp;#39; &amp;#39;0&amp;#39; | tr &amp;#39;.&amp;#39; &amp;#39;1&amp;#39; | tr &amp;#39; &amp;#39; &amp;#39;\n&amp;#39; 输出是
00100000 01110101 00110101 00110100 00111000 ... 接下来我们用bc来做个进制转换，方法是设置ibase和obase：echo &amp;quot;ibase=2;obase=10000;00100000&amp;quot; | bc。注意这里我们先设置ibase=2，接着设置obase的时候要按ibase的格式，也就是二进制的16（10000）。
在把之前的结果交给bc之前，先用sed整理下格式。
sed &amp;#34;s/^/ibase=2;obase=10000;/g&amp;#34; | bc 输出：
20 75 35 34 38 ... 然后我们用xxd工具，这个一般是用来做hex dump的，不过给它加上-r参数后，可以把hex形式给转回去。在hex之前，我们要整理下格式，把换行符删掉。
tr -d &amp;#39;\n&amp;#39; | xxd -p -r 输出：
u548c u0020 u0054 u0069 u0044 u0042 ... 看上去是固定的u后跟4个字符，显然是unicode了。我随便找了个在线转unicode的网站，发现它要的输入格式是\uXXX。这好说，再用tr把空格换成\，然后填到网站上就出结果了：
和 TiDB 一起用代码.... 看上去这就是答案了，用一行脚本的话就是：
cat CODE | tr &amp;#39;-&amp;#39; &amp;#39;0&amp;#39; | tr &amp;#39;.</description></item></channel></rss>